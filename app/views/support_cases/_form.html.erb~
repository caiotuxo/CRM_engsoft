<%= form_for(@support_case) do |f| %>
  <% if @support_case.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@support_case.errors.count, "error") %> prohibited this support_case from being saved:</h2>

      <ul>
      <% @support_case.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  
  <h3>Clientes</h3>
  
	<style>
	.ui-autocomplete {
		max-height: 100px;
		overflow-y: auto;
		/* prevent horizontal scrollbar */
		overflow-x: hidden;
	}
	
	/* IE 6 doesn't support max-height
	* we use height instead, but this forces the menu to always be this tall
	*/
	* html .ui-autocomplete {
		height: 100px;
	}
	</style>
  
	<script>
		$(function() {
			var availableTags = [
				<% @contacts.each do |contact| %>
  				{
  					caseCode: "<%= contact.id %>",
  					name: "<%= contact.name.humanize %>",
  					email: "<%= contact.email.humanize %>",
  					phone: "<%= contact.phone.humanize %>",
  					label: "<%= contact.name.humanize %>",
  				},
  			<% end %>
			];
			
			$( "#contacts" ).autocomplete({
				source: availableTags,
				minLength: 3,
				
			});
		});
	</script>
	
	<div class="ui-widget">
		<label for="contacts">Contatos: </label>
		<input id="contacts" />
	</div>
  
  <br/>
  <br/>
  <br/>
  
  <h3>Chamado</h3>
  <div class="field">
    <%= f.label :caseCode %><br />
    <%= f.text_field :caseCode %>
  </div>
  <div class="field">
    <%= f.label :description %><br />
    <%= f.text_field :description %>
  </div>
  <div class="field">
    <%= f.label :type %><br />
    <%= f.text_field :caseType %>
  </div>
  <div class="field">
    <%= f.label :status %><br />
    <%= f.text_field :status %>
  </div>

  <div class="field">
    <%=f.label :employee %><br/>
    <%=collection_select(:employee,:employee_id,@all_employees,:id,:name)%><br/>
  </div>
  <div class="actions">
    <%= f.submit %>
  </div>
<% end %>
